<% include header %>

    <!-- <div id="app">
        <p>{{ message }}</p>
        <app-header :title="temp"></app-header>
    </div>
    

    <% include template/test %>

    <script>
        
        Vue.component('app-header', {
            template: '#head-template',
            props: ['title']
        })


        new Vue({
            el: '#app',
            data: {
                message: 'Hello Vue.js!',
                temp: 'template, 强奸我第哦哦期奇偶'
            },
            mounted() {

            }
        })
      </script> -->


<div class="container">
    <form class="form create" method="post ">
        <div>
            <label>用户名：</label> 
            <input placeholder="用户名" type="text" name="name">
        </div>
        <div>
            <label>密码：</label> 
            <input placeholder="密码" type="password" name="password">
        </div>
        <div class="submit">登录</div>
    </form>	
</div>
<script>
    $('.submit').click(() => {
                
        $.ajax({
            url: '/system/signin',
            data: $('.form').serialize(),
            type: 'POST',
            cache: false,
            dataType: 'json',
            success: function (msg) {

                if (msg) {
                    window.location.href = '/system/posts/1';
                } else {
                    alert('用户名或密码错误')
                }
            },
            error: function(error) {
                alert('异常')
            }
        })
    })

</script>

<% include footer %>